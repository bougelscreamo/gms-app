import{y as E,s as N,r as l,g as V,c as k,a as t,x as q,i as u,v,j as p,k as _,n as B,o as D}from"./entry.69edd33e.js";import{u as U}from"./data.8bfc3874.js";import{S as x}from"./sweetalert2.all.7ef268f0.js";const L={class:"content"},R={class:"container-fluid",style:{"padding-bottom":"10px"}},T={class:"card card-primary"},C=t("div",{class:"card-header"}," Edit Alarm Settings ",-1),M={class:"card-body"},O={class:"form-group row"},J=t("label",{for:"tag_group",class:"col-sm-2 col-form-label"},"Room ID",-1),P={class:"col-sm-10"},j={class:"form-group row"},z=t("label",{for:"tagname",class:"col-sm-2 col-form-label"},"Tag Name",-1),H={class:"col-sm-10"},I={class:"form-group row"},F=t("label",{for:"sv_min",class:"col-sm-2 col-form-label"},"Low Limit",-1),G={class:"col-sm-10"},K={class:"form-group row"},Q=t("label",{for:"sv_max",class:"col-sm-2 col-form-label"},"High Limit",-1),W={class:"col-sm-10"},X={class:"form-group row"},Y=t("label",{for:"active",class:"col-sm-2 col-form-label"},"Status",-1),Z={class:"col-sm-10"},tt=t("option",{value:"1"},"Active",-1),at=t("option",{value:"0"},"Not Active",-1),et=[tt,at],st={class:"card-footer"},ot=t("button",{type:"submit",class:"btn btn-info"},"Submit",-1),nt={__name:"[id]",async setup(lt){let f,g;const s=U(),{id:o}=E().params,b=N();let n=l(""),c=l(""),r=l(0),i=l(0),d=l(0),h=l(0),y=l(0);[f,g]=V(()=>s.getParametersList()),await f,g(),n.value=s.$state.data.parameters.data[o].tag_group,c.value=s.$state.data.parameters.data[o].tagname,r.value=s.$state.data.parameters.data[o].sv_min,i.value=s.$state.data.parameters.data[o].sv_max,d.value=s.$state.data.parameters.data[o].active,h.value=s.$state.data.parameters.data[o].deviceid,y.value=s.$state.data.parameters.data[o].tagid;const A={tag_group:s.$state.data.parameters.data[o].tag_group,tagname:s.$state.data.parameters.data[o].tagname,sv_min:s.$state.data.parameters.data[o].sv_min,sv_max:s.$state.data.parameters.data[o].sv_max,active:s.$state.data.parameters.data[o].active,deviceid:s.$state.data.parameters.data[o].deviceid,tagid:s.$state.data.parameters.data[o].tagid};function w(){b.push({path:"/AlarmSettings"})}async function S(){const m={new_svmin:r.value,new_svmax:i.value,new_active:d.value,deviceid:h.value,tagid:y.value};await s.updateParameter(m).then(a=>{$(A,m),x.fire({title:"Success",text:"Alarm Settings updated successfully",icon:"success",timer:1500}),b.push({path:"/AlarmSettings"})}).catch(a=>{x.fire({title:"Error!",text:"Error update data",icon:"error"})})}function $(m,a){const e={access:"Alarm Setting",action:"Edit",description:"Edit Alarm Setting, Old Data :"+JSON.stringify(m).replaceAll('"',"").replaceAll("{","").replaceAll("}","")+" New Data : "+JSON.stringify(a).replaceAll('"',"").replaceAll("{","").replaceAll("}","")};s.postAuditTrail(e)}return(m,a)=>(D(),k("div",L,[t("div",R,[t("div",T,[C,t("form",{class:"form-horizontal",onSubmit:a[6]||(a[6]=q(e=>S(),["prevent"]))},[t("div",M,[t("div",O,[J,t("div",P,[u(t("input",{type:"text",class:"form-control",id:"tag_group","onUpdate:modelValue":a[0]||(a[0]=e=>_(n)?n.value=e:n=e),required:""},null,512),[[v,p(n)]])])]),t("div",j,[z,t("div",H,[u(t("input",{type:"text",class:"form-control",id:"tagname","onUpdate:modelValue":a[1]||(a[1]=e=>_(c)?c.value=e:c=e),required:""},null,512),[[v,p(c)]])])]),t("div",I,[F,t("div",G,[u(t("input",{type:"number",class:"form-control",id:"sv_min","onUpdate:modelValue":a[2]||(a[2]=e=>_(r)?r.value=e:r=e),required:""},null,512),[[v,p(r)]])])]),t("div",K,[Q,t("div",W,[u(t("input",{type:"number",class:"form-control",id:"sv_max","onUpdate:modelValue":a[3]||(a[3]=e=>_(i)?i.value=e:i=e),required:""},null,512),[[v,p(i)]])])]),t("div",X,[Y,t("div",Z,[u(t("select",{class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>_(d)?d.value=e:d=e),required:""},et,512),[[B,p(d)]])])])]),t("div",st,[ot,t("button",{type:"button",class:"btn btn-default float-right",onClick:a[5]||(a[5]=e=>w())},"Cancel")])],32)])])]))}};export{nt as default};
