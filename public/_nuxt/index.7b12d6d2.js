import{g as A,r as v,h as $,c as r,a as t,i as f,v as S,j as i,k as b,F as C,m as x,d as y,n as B,t as l,o as u}from"./entry.69edd33e.js";import{u as N}from"./data.8bfc3874.js";import"./sweetalert2.all.7ef268f0.js";const V={class:"content"},j={class:"container-fluid",style:{"padding-bottom":"10px"}},M={class:"card card-primary"},F=t("div",{class:"card-header"}," Audit Trails ",-1),R={class:"card-body"},E={class:"row"},G={class:"col-md-12"},I={role:"group",class:"input-group mb-3 input-group-md"},L=t("div",{class:"input-group-prepend"},[t("div",{class:"input-group-text"},"Search...")],-1),X={class:"input-group-append"},q=["disabled"],z={class:"card-body bg-dark table-responsive",id:"theContainer"},H={class:"table table-bordered",width:"100"},J=t("thead",{class:"bg-secondary"},[t("tr",null,[t("th",null,"Date Time"),t("th",null,"User Name"),t("th",null,"Access"),t("th",null,"Action"),t("th",null,"Description"),t("th",null,"IP Address")])],-1),K={class:"card-footer"},O=["value"],Q={class:"pagination pagination-sm m-0 float-right"},W={class:"page-item"},Y={class:"page-item"},U=10,at={__name:"index",async setup(Z){let _,h;const c=N();[_,h]=A(()=>c.getAuditTrail()),await _,h();const o=v("");let a=v(1),p=v(0),n=v(0);p=c.$state.data.auditTrails.data.length;function k(d,s,e){return d.slice((e-1)*s,e*s)}const w=$(()=>{let d=c.$state.data.auditTrails.data,s=c.$state.data.auditTrails.data;return o.value!=""?(s=d.filter(e=>e.username.toUpperCase().includes(o.value.toUpperCase())||e.access.toUpperCase().includes(o.value.toUpperCase())||e.action.toUpperCase().includes(o.value.toUpperCase())||e.description.toUpperCase().includes(o.value.toUpperCase())||e.ipaddress.toUpperCase().includes(o.value.toUpperCase())),p=s.length,n=g(),a.value>n&&(a.value=1,m())):(s=d,p=s.length,n=g()),k(s,U,a.value)});n=g();function g(){return Math.ceil(p/U)}function T(){a.value<n&&a.value++}function P(){a.value>1&&a.value--}function m(){console.log("page :"+a.value)}return(d,s)=>(u(),r("div",V,[t("div",j,[t("div",M,[F,t("div",R,[t("div",E,[t("div",G,[t("div",I,[L,f(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>b(o)?o.value=e:null)},null,512),[[S,i(o)]]),t("div",X,[t("button",{text:"Button",type:"button",class:"btn btn-secondary btn-md",disabled:!i(o),onClick:s[1]||(s[1]=e=>o.value="")},"X",8,q)])])])])]),t("div",z,[t("table",H,[J,t("tbody",null,[(u(!0),r(C,null,x(i(w),(e,D)=>(u(),r("tr",{key:D},[t("td",null,l(e.datetimes),1),t("td",null,l(e.username),1),t("td",null,l(e.access),1),t("td",null,l(e.action),1),t("td",null,l(e.description),1),t("td",null,l(e.ipaddress),1)]))),128))])])]),t("div",K,[y(" Go To "),f(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>b(a)?a.value=e:a=e),onChange:s[3]||(s[3]=e=>m())},[(u(!0),r(C,null,x(i(n),e=>(u(),r("option",{value:e},l(e),9,O))),256))],544),[[B,i(a)]]),y(" of "+l(i(n))+" ",1),t("ul",Q,[t("li",W,[t("a",{class:"page-link text-white",href:"javascript:void(0);",onClick:s[4]||(s[4]=e=>P())},"Previous Page")]),t("li",Y,[t("a",{class:"page-link text-white",href:"javascript:void(0);",onClick:s[5]||(s[5]=e=>T())},"Next Page")])])])])])]))}};export{at as default};
