import{s as C,r as d,g as N,h as V,c as m,a as e,x as k,i as u,v as f,j as l,k as p,l as y,n as A,o as _,f as D}from"./entry.69edd33e.js";import{u as B}from"./data.8bfc3874.js";import{S as U}from"./sweetalert2.all.7ef268f0.js";const E={class:"content"},R={class:"container-fluid",style:{"padding-bottom":"10px"}},q={class:"card card-primary"},M=e("div",{class:"card-header"}," User Profile ",-1),P={class:"card-body"},T={class:"form-group row"},O=e("label",{for:"fullname",class:"col-sm-2 col-form-label"},"Full Name",-1),j={class:"col-sm-10"},z={class:"form-group row"},F=e("label",{for:"username",class:"col-sm-2 col-form-label"},"User Name",-1),J={class:"col-sm-10"},L={key:0,class:"text-danger"},G={class:"form-group row"},H=e("label",{for:"role",class:"col-sm-2 col-form-label"},"Role",-1),I={class:"col-sm-10"},K=D('<option value="0">Root</option><option value="1">Vendor</option><option value="2">Admin</option><option value="3">Supervisor</option><option value="4">Operator</option>',5),Q=[K],W={class:"form-group row"},X=e("label",{for:"password",class:"col-sm-2 col-form-label"},"Password",-1),Y={class:"col-sm-10"},Z={class:"card-footer"},$={key:0,type:"submit",class:"btn btn-info"},ae={__name:"index",async setup(ee){let v,h;const b=C(),r=B();let i=d(""),a=d(""),n=d(0),c=d("");[v,h]=N(()=>r.getUserList()),await v,h();const w=V(()=>{let o=r.$state.data.users.data,s=r.$state.data.users.data;return s=o.filter(t=>t.username.toUpperCase()==a.value.toUpperCase()),console.log(s),s.length>0});function x(){b.push("/Users")}async function g(){const o={fullname:i.value,username:a.value,role:n.value,password:c.value};await r.createUser(o).then(s=>{S(o),U.fire({title:"Success",text:"User created successfully",icon:"success",timer:1500}),b.push({path:"/Users"})}).catch(s=>{U.fire({title:"Error!",text:"Error update data",icon:"error"})})}async function S(o){const s={access:"Users",action:"Create New",description:"Post Create New User,  Data : "+JSON.stringify(o).replaceAll('"',"").replaceAll("{","").replaceAll("}","")};r.postAuditTrail(s)}return(o,s)=>(_(),m("div",E,[e("div",R,[e("div",q,[M,e("form",{class:"form-horizontal",onSubmit:s[5]||(s[5]=k(t=>g(),["prevent"]))},[e("div",P,[e("div",T,[O,e("div",j,[u(e("input",{type:"text",class:"form-control",id:"fullname","onUpdate:modelValue":s[0]||(s[0]=t=>p(i)?i.value=t:i=t),required:""},null,512),[[f,l(i)]])])]),e("div",z,[F,e("div",J,[u(e("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":s[1]||(s[1]=t=>p(a)?a.value=t:a=t),required:""},null,512),[[f,l(a)]]),l(w)?(_(),m("label",L,"Username is exist")):y("",!0)])]),e("div",G,[H,e("div",I,[u(e("select",{class:"form-control",id:"role","onUpdate:modelValue":s[2]||(s[2]=t=>p(n)?n.value=t:n=t)},Q,512),[[A,l(n)]])])]),e("div",W,[X,e("div",Y,[u(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[3]||(s[3]=t=>p(c)?c.value=t:c=t),required:""},null,512),[[f,l(c)]])])])]),e("div",Z,[l(w)?y("",!0):(_(),m("button",$,"Submit")),e("button",{type:"button",class:"btn btn-default float-right",onClick:s[4]||(s[4]=t=>x())},"Cancel")])],32)])])]))}};export{ae as default};
