import{g as U,r as v,h as $,c as r,a as t,i as f,v as N,j as i,k as b,F as x,m as y,d as k,n as S,t as o,o as u}from"./entry.69edd33e.js";import{u as B}from"./data.8bfc3874.js";import"./sweetalert2.all.7ef268f0.js";const V={class:"content"},j={class:"container-fluid",style:{"padding-bottom":"10px"}},M={class:"card card-primary"},F=t("div",{class:"card-header"}," Audit Trails Log ",-1),I={class:"card-body"},L={class:"row"},R={class:"col-md-12"},E={role:"group",class:"input-group mb-3 input-group-md"},G=t("div",{class:"input-group-prepend"},[t("div",{class:"input-group-text"},"Search...")],-1),X={class:"input-group-append"},q=["disabled"],z={class:"card-body bg-dark",id:"theContainer"},H={class:"table table-bordered"},J=t("thead",null,[t("tr",null,[t("th",null,"Date Time"),t("th",null,"User Name"),t("th",null,"Access"),t("th",null,"Action"),t("th",null,"Description"),t("th",null,"IP Address"),t("th",null,"IP Address Now")])],-1),K={class:"card-footer"},O=["value"],Q={class:"pagination pagination-sm m-0 float-right"},W={class:"page-item"},Y={class:"page-item"},w=10,at={__name:"index",async setup(Z){let g,h;const c=B();[g,h]=U(()=>c.getAuditTrail()),await g,h();const l=v("");let a=v(1),p=v(0),n=v(0);p=c.$state.data.auditTrails.data.length;function C(d,s,e){return d.slice((e-1)*s,e*s)}const P=$(()=>{let d=c.$state.data.auditTrails.data,s=c.$state.data.auditTrails.data;return l.value!=""?(s=d.filter(e=>e.username.toUpperCase().includes(l.value.toUpperCase())||e.access.toUpperCase().includes(l.value.toUpperCase())),p=s.length,n=_(),a.value>n&&(a.value=1,m())):(s=d,p=s.length,n=_()),C(s,w,a.value)});n=_();function _(){return Math.ceil(p/w)}function T(){a.value<n&&a.value++}function A(){a.value>1&&a.value--}function m(){console.log("page :"+a.value)}return(d,s)=>(u(),r("div",V,[t("div",j,[t("div",M,[F,t("div",I,[t("div",L,[t("div",R,[t("div",E,[G,f(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>b(l)?l.value=e:null)},null,512),[[N,i(l)]]),t("div",X,[t("button",{text:"Button",type:"button",class:"btn btn-secondary btn-md",disabled:!i(l),onClick:s[1]||(s[1]=e=>l.value="")},"X",8,q)])])])])]),t("div",z,[t("table",H,[J,t("tbody",null,[(u(!0),r(x,null,y(i(P),(e,D)=>(u(),r("tr",{key:D},[t("td",null,o(e.datetimes),1),t("td",null,o(e.username),1),t("td",null,o(e.access),1),t("td",null,o(e.action),1),t("td",null,o(e.description),1),t("td",null,o(e.ipaddress),1),t("td",null,o(e.ipaddress_now),1)]))),128))])])]),t("div",K,[k(" Go To "),f(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>b(a)?a.value=e:a=e),onChange:s[3]||(s[3]=e=>m())},[(u(!0),r(x,null,y(i(n),e=>(u(),r("option",{value:e},o(e),9,O))),256))],544),[[S,i(a)]]),k(" of "+o(i(n))+" ",1),t("ul",Q,[t("li",W,[t("a",{class:"page-link text-white",href:"javascript:void(0);",onClick:s[4]||(s[4]=e=>A())},"Previous Page")]),t("li",Y,[t("a",{class:"page-link text-white",href:"javascript:void(0);",onClick:s[5]||(s[5]=e=>T())},"Next Page")])])])])])]))}};export{at as default};
