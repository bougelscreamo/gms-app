import{_ as I}from"./nuxt-link.0330aa19.js";import{g as S,s as B,r as D,h as M,c as l,a as t,d as _,i as H,n as L,j as n,k as T,l as v,F as b,m as C,t as a,o as i,b as N,w as R}from"./entry.69edd33e.js";import{u as Y}from"./fetch.761340c9.js";import{u as G}from"./data.8bfc3874.js";import"./sweetalert2.all.7ef268f0.js";const W={class:"content"},X={class:"container-fluid",style:{"padding-bottom":"10px"}},q={class:"card card-primary"},z={class:"card-header"},J={class:"card-tools"},K={class:"nav nav-pills ml-auto"},O={class:"nav-item"},Q=t("option",{value:"TH"},"TH",-1),Z=t("option",{value:"DP"},"DP",-1),tt=[Q,Z],et={key:0,class:"card card-primary"},ot=t("div",{class:"card-header"},"TH",-1),st={class:"card-body bg-dark",id:"theContainer"},at={class:"table table-bordered"},lt={class:"bg-secondary"},nt={key:0},it=t("th",null,"Room ID",-1),dt=t("th",null,"Temp Alarm Low",-1),rt=t("th",null,"Temp Alarm High",-1),ct=t("th",null,"Temp Alarm Delay",-1),ut=t("th",null,"Hum Alarm Low",-1),_t=t("th",null,"Hum Alarm High",-1),pt=t("th",null,"Hum Alarm Delay",-1),ht={key:0},gt={class:"card-footer"},vt=["value"],mt={class:"pagination pagination-sm m-0 float-right"},ft={class:"page-item"},yt={class:"page-item"},Dt={key:1,class:"card card-primary"},At=t("div",{class:"card-header"},"DP",-1),kt={class:"card-body bg-dark",id:"theContainer"},Pt={class:"table table-bordered"},bt={class:"bg-secondary"},Ct={key:0},Ht=t("th",null,"Room ID (+)",-1),Lt=t("th",null,"Room ID (-)",-1),Tt=t("th",null,"DP Alarm Low",-1),wt=t("th",null,"DP Alarm High",-1),xt=t("th",null,"DP Alarm Delay",-1),Et={key:0},Ut={class:"card-footer"},$t=["value"],St={class:"pagination pagination-sm m-0 float-right"},Mt={class:"page-item"},Nt={class:"page-item"},w=10,Yt={__name:"index",async setup(Rt){let p,A;const{data:k}=([p,A]=S(()=>Y("/api/token","$XtFwH5tPWC")),p=await p,A(),p);B();const u=G(),h=D("");let s=D(1);const m=D("DP");let g=D(0),d=D(0);[p,A]=S(()=>u.getDeviceList()),await p,A(),g=u.$state.data.devices.data.length;function x(c,o,r){return c.slice((r-1)*o,r*o)}const V=M(()=>{let c=u.$state.data.devices.data.DP,o=u.$state.data.devices.data.DP;return h.value!=""?(o=c.filter(r=>r.tag_group.toUpperCase().includes(h.value.toUpperCase())||r.tagname.toUpperCase().includes(h.value.toUpperCase())),g=o.length,d=f(),s.value>d&&(s.value=1,P())):(o=c,g=o.length,d=f()),x(o,w,s.value)}),j=M(()=>{let c=u.$state.data.devices.data.TH,o=u.$state.data.devices.data.TH;return h.value!=""?(o=c.filter(r=>r.tag_group.toUpperCase().includes(h.value.toUpperCase())||r.tagname.toUpperCase().includes(h.value.toUpperCase())),g=o.length,d=f(),s.value>d&&(s.value=1,P())):(o=c,g=o.length,d=f()),x(o,w,s.value)});d=f();function f(){return Math.ceil(g/w)}function E(){s.value<d&&s.value++}function U(){s.value>1&&s.value--}function P(){console.log("page :"+s.value)}function $(c){const o={access:"Alarm Settings",action:"Click Edit",description:"Edit Alarm Settings Room Id : "+c};u.postAuditTrail(o)}return(c,o)=>{const r=I;return i(),l("div",W,[t("div",X,[t("div",q,[t("div",z,[_(" Alarm Settings "),t("div",J,[t("ul",K,[t("li",O,[H(t("select",{class:"form-control","onUpdate:modelValue":o[0]||(o[0]=e=>T(m)?m.value=e:null)},tt,512),[[L,n(m)]])])])])])]),n(m)=="TH"?(i(),l("div",et,[ot,t("div",st,[t("table",at,[t("thead",lt,[t("tr",null,[n(k).role<=3?(i(),l("th",nt,"Action")):v("",!0),it,dt,rt,ct,ut,_t,pt])]),t("tbody",null,[(i(!0),l(b,null,C(n(j),(e,y)=>(i(),l("tr",{key:y},[n(k).role<=3?(i(),l("td",ht,[N(r,{to:`/AlarmSettings/Edit-TH/${y}`,class:"btn btn-success btn-sm",onClick:F=>$(e.tag_group,e.tagid)},{default:R(()=>[_("Edit")]),_:2},1032,["to","onClick"])])):v("",!0),t("td",null,a(e.roomid),1),t("td",null,a(e.TEMP_AL_L),1),t("td",null,a(e.TEMP_AL_H),1),t("td",null,a(e.TEMP_AL_DELAY),1),t("td",null,a(e.HUM_AL_L),1),t("td",null,a(e.HUM_AL_H),1),t("td",null,a(e.HUM_AL_DELAY),1)]))),128))])])]),t("div",gt,[_(" Go To "),H(t("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>T(s)?s.value=e:s=e),onChange:o[2]||(o[2]=e=>P())},[(i(!0),l(b,null,C(n(d),e=>(i(),l("option",{value:e},a(e),9,vt))),256))],544),[[L,n(s)]]),_(" of "+a(n(d))+" ",1),t("ul",mt,[t("li",ft,[t("a",{class:"page-link bg-secondary text-white",href:"javascript:void(0);",onClick:o[3]||(o[3]=e=>U())},"Previous Page")]),t("li",yt,[t("a",{class:"page-link bg-secondary text-white",href:"javascript:void(0);",onClick:o[4]||(o[4]=e=>E())},"Next Page")])])])])):v("",!0),n(m)=="DP"?(i(),l("div",Dt,[At,t("div",kt,[t("table",Pt,[t("thead",bt,[t("tr",null,[n(k).role<=3?(i(),l("th",Ct,"Action")):v("",!0),Ht,Lt,Tt,wt,xt])]),t("tbody",null,[(i(!0),l(b,null,C(n(V),(e,y)=>(i(),l("tr",{key:y},[n(k).role<=3?(i(),l("td",Et,[N(r,{to:`/AlarmSettings/Edit-DP/${y}`,class:"btn btn-success btn-sm",onClick:F=>$(e.roomid)},{default:R(()=>[_("Edit")]),_:2},1032,["to","onClick"])])):v("",!0),t("td",null,a(e.roomid),1),t("td",null,a(e.tagname_link),1),t("td",null,a(e.DP_AL_L),1),t("td",null,a(e.DP_AL_H),1),t("td",null,a(e.DP_AL_DELAY),1)]))),128))])])]),t("div",Ut,[_(" Go To "),H(t("select",{"onUpdate:modelValue":o[5]||(o[5]=e=>T(s)?s.value=e:s=e),onChange:o[6]||(o[6]=e=>P())},[(i(!0),l(b,null,C(n(d),e=>(i(),l("option",{value:e},a(e),9,$t))),256))],544),[[L,n(s)]]),_(" of "+a(n(d))+" ",1),t("ul",St,[t("li",Mt,[t("a",{class:"page-link bg-secondary text-white",href:"javascript:void(0);",onClick:o[7]||(o[7]=e=>U())},"Previous Page")]),t("li",Nt,[t("a",{class:"page-link bg-secondary text-white",href:"javascript:void(0);",onClick:o[8]||(o[8]=e=>E())},"Next Page")])])])])):v("",!0)])])}}};export{Yt as default};
