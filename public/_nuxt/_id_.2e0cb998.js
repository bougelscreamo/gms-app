import{y as N,s as V,r as u,g as $,c as E,a as s,x as k,i as p,v as _,j as m,k as f,n as w,o as B,f as R}from"./entry.69edd33e.js";import{u as D}from"./data.8bfc3874.js";import{S as U}from"./sweetalert2.all.7ef268f0.js";const O={class:"content"},C={class:"container-fluid",style:{"padding-bottom":"10px"}},M={class:"card card-primary"},P=s("div",{class:"card-header"}," User Profile ",-1),T={class:"card-body"},q={class:"form-group row"},J=s("label",{for:"fullname",class:"col-sm-2 col-form-label"},"Full Name",-1),j={class:"col-sm-10"},z={class:"form-group row"},F=s("label",{for:"username",class:"col-sm-2 col-form-label"},"User Name",-1),L={class:"col-sm-10"},G={class:"form-group row"},H=s("label",{for:"role",class:"col-sm-2 col-form-label"},"Role",-1),I={class:"col-sm-10"},K=R('<option value="0">Root</option><option value="1">Vendor</option><option value="2">Admin</option><option value="3">Supervisor</option><option value="4">Operator</option>',5),Q=[K],W={class:"form-group row"},X=s("label",{for:"password",class:"col-sm-2 col-form-label"},"Password",-1),Y={class:"col-sm-10"},Z={class:"form-group row"},ss=s("label",{for:"status",class:"col-sm-2 col-form-label"},"Status",-1),ts={class:"col-sm-10"},es=s("option",{value:"1"}," Active ",-1),os=s("option",{value:"0"}," Not Active ",-1),as=[es,os],ls={class:"card-footer"},rs=s("button",{type:"submit",class:"btn btn-info"},"Submit",-1),cs={__name:"[id]",async setup(is){let v,h;const{id:a}=N().params,b=V(),o=D();let l=u(""),r=u(""),i=u(0),c=u(""),y=u(""),d=u("");[v,h]=$(()=>o.getUserList()),await v,h(),l.value=o.$state.data.users.data[a].fullname,r.value=o.$state.data.users.data[a].username,i.value=o.$state.data.users.data[a].role,y.value=o.$state.data.users.data[a].id,d.value=o.$state.data.users.data[a].status;const g={fullname:o.$state.data.users.data[a].fullname,username:o.$state.data.users.data[a].username,role:o.$state.data.users.data[a].role,userid:o.$state.data.users.data[a].id,status:o.$state.data.users.data[a].id};function A(){b.push({path:"/Users"})}async function S(){const n={fullname:l.value,username:r.value,role:i.value,password:c.value,userid:y.value,status:d.value};console.log(n),await o.updateUser(n).then(t=>{x(g,n),U.fire({title:"Success",text:"User updated successfully",icon:"success",timer:1500}),b.push({path:"/Users"})}).catch(t=>{U.fire({title:"Error!",text:"Error update data",icon:"error"})})}function x(n,t){const e={access:"Users",action:"Edit",description:"Post Edit User, Old Data :"+JSON.stringify(n).replaceAll('"',"").replaceAll("{","").replaceAll("}","")+" New Data : "+JSON.stringify(t).replaceAll('"',"").replaceAll("{","").replaceAll("}","")};o.postAuditTrail(e)}return(n,t)=>(B(),E("div",O,[s("div",C,[s("div",M,[P,s("form",{class:"form-horizontal",onSubmit:t[6]||(t[6]=k(e=>S(),["prevent"]))},[s("div",T,[s("div",q,[J,s("div",j,[p(s("input",{type:"text",class:"form-control",id:"fullname","onUpdate:modelValue":t[0]||(t[0]=e=>f(l)?l.value=e:l=e),required:""},null,512),[[_,m(l)]])])]),s("div",z,[F,s("div",L,[p(s("input",{type:"text",class:"form-control",readonly:"",id:"username","onUpdate:modelValue":t[1]||(t[1]=e=>f(r)?r.value=e:r=e),required:""},null,512),[[_,m(r)]])])]),s("div",G,[H,s("div",I,[p(s("select",{class:"form-control",id:"role","onUpdate:modelValue":t[2]||(t[2]=e=>f(i)?i.value=e:i=e)},Q,512),[[w,m(i)]])])]),s("div",W,[X,s("div",Y,[p(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[3]||(t[3]=e=>f(c)?c.value=e:c=e)},null,512),[[_,m(c)]])])]),s("div",Z,[ss,s("div",ts,[p(s("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>f(d)?d.value=e:d=e),id:"status",class:"form-control"},as,512),[[w,m(d)]])])])]),s("div",ls,[rs,s("button",{type:"button",class:"btn btn-default float-right",onClick:t[5]||(t[5]=e=>A())},"Cancel")])],32)])])]))}};export{cs as default};
