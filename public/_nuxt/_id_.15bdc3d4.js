import{y as w,s as j,r as d,g as J,c as _,a as e,t as k,j as r,x as z,i,v as m,k as c,l as n,o as u}from"./entry.69edd33e.js";import{u as I}from"./data.8bfc3874.js";import{S as V}from"./sweetalert2.all.7ef268f0.js";const q={class:"content"},G={class:"container-fluid",style:{"padding-bottom":"10px"}},K={class:"card card-primary"},Q={class:"card-header"},W={class:"card-body bg-dark",id:"theContainer"},X={class:"form-group row"},Y=e("label",{for:"roomid",class:"col-sm-2 col-form-label"},"Room ID",-1),Z={class:"col-sm-10"},aa={key:0,class:"form-group row"},ta=e("label",{for:"DP_SCL_L",class:"col-sm-2 col-form-label"},"DP Scaling L",-1),ea={class:"col-sm-10"},sa={key:1,class:"form-group row"},oa=e("label",{for:"DP_SCL_H",class:"col-sm-2 col-form-label"},"DP Scaling H",-1),ra={class:"col-sm-10"},la={key:2,class:"form-group row"},da=e("label",{for:"DP_OFFSET",class:"col-sm-2 col-form-label"},"DP Offset",-1),_a={class:"col-sm-10"},ia={key:3,class:"form-group row"},ma=e("label",{for:"TEMP_SCL_L",class:"col-sm-2 col-form-label"},"Temp Scaling L",-1),ca={class:"col-sm-10"},ua={key:4,class:"form-group row"},na=e("label",{for:"TEMP_SCL_H",class:"col-sm-2 col-form-label"},"Temp Scaling H",-1),pa={class:"col-sm-10"},Ha={key:5,class:"form-group row"},Sa=e("label",{for:"TEMP_OFFSET",class:"col-sm-2 col-form-label"},"Temp Offset",-1),Ta={class:"col-sm-10"},Pa={key:6,class:"form-group row"},va=e("label",{for:"HUM_SCL_L",class:"col-sm-2 col-form-label"},"Hum Scaling L",-1),fa={class:"col-sm-10"},La={key:7,class:"form-group row"},Da=e("label",{for:"HUM_SCL_H",class:"col-sm-2 col-form-label"},"Hum Scaling H",-1),Ca={class:"col-sm-10"},Ea={key:8,class:"form-group row"},ba=e("label",{for:"HUM_OFFSET",class:"col-sm-2 col-form-label"},"Hum Offset",-1),ga={class:"col-sm-10"},Fa={class:"card-footer"},Ma=e("button",{type:"submit",class:"btn btn-info"},"Submit",-1),wa={__name:"[id]",async setup($a){let y,U;const{id:t}=w().params,{Type:l}=w().params,a=I(),O=j();let h=d(""),p=d(""),H=d(""),S=d(""),T=d(""),P=d(""),v=d(""),f=d(""),L=d(""),D=d(""),C=d(""),b=d(""),g=d(""),F={};[y,U]=J(()=>a.getDeviceList()),await y,U(),l=="DP"&&(h.value=a.$state.data.parameters.data.DP[t].tag_group,p.value=a.$state.data.parameters.data.DP[t].roomid,H.value=a.$state.data.parameters.data.DP[t].DP_SCL_H,S.value=a.$state.data.parameters.data.DP[t].DP_SCL_L,T.value=a.$state.data.parameters.data.DP[t].DP_OFFSET,P.value=a.$state.data.parameters.data.DP[t].TEMP_SCL_L,v.value=a.$state.data.parameters.data.DP[t].TEMP_SCL_H,f.value=a.$state.data.parameters.data.DP[t].DP_OFFSET,L.value=a.$state.data.parameters.data.DP[t].HUM_SCL_L,D.value=a.$state.data.parameters.data.DP[t].HUM_SCL_H,C.value=a.$state.data.parameters.data.DP[t].HUM_OFFSET,b.value=a.$state.data.parameters.data.DP[t].tagids,g.value=a.$state.data.parameters.data.DP[t].deviceid,F={deviceid:a.$state.data.parameters.data.DP[t].deviceid,tagids:a.$state.data.parameters.data.DP[t].tagids,tag_group:a.$state.data.parameters.data.DP[t].tag_group,roomid:a.$state.data.parameters.data.DP[t].roomid,DP_SCL_H:a.$state.data.parameters.data.DP[t].DP_SCL_H,DP_SCL_L:a.$state.data.parameters.data.DP[t].DP_SCL_L,DP_OFFSET:a.$state.data.parameters.data.DP[t].DP_OFFSET,TEMP_SCL_L:a.$state.data.parameters.data.DP[t].TEMP_SCL_L,TEMP_SCL_H:a.$state.data.parameters.data.DP[t].TEMP_SCL_H,TEMP_OFFSET:a.$state.data.parameters.data.DP[t].DP_OFFSET,HUM_SCL_L:a.$state.data.parameters.data.DP[t].HUM_SCL_L,HUM_SCL_H:a.$state.data.parameters.data.DP[t].HUM_SCL_H,HUM_OFFSET:a.$state.data.parameters.data.DP[t].HUM_OFFSET}),l=="TH"&&(h.value=a.$state.data.parameters.data.TH[t].tag_group,p.value=a.$state.data.parameters.data.TH[t].roomid,H.value=a.$state.data.parameters.data.TH[t].DP_SCL_H,S.value=a.$state.data.parameters.data.TH[t].DP_SCL_L,T.value=a.$state.data.parameters.data.TH[t].DP_OFFSET,P.value=a.$state.data.parameters.data.TH[t].TEMP_SCL_L,v.value=a.$state.data.parameters.data.TH[t].TEMP_SCL_H,f.value=a.$state.data.parameters.data.TH[t].TEMP_OFFSET,L.value=a.$state.data.parameters.data.TH[t].HUM_SCL_L,D.value=a.$state.data.parameters.data.TH[t].HUM_SCL_H,C.value=a.$state.data.parameters.data.TH[t].HUM_OFFSET,b.value=a.$state.data.parameters.data.TH[t].tagids,g.value=a.$state.data.parameters.data.TH[t].deviceid,F={deviceid:a.$state.data.parameters.data.TH[t].deviceid,tagids:a.$state.data.parameters.data.TH[t].tagids,tag_group:a.$state.data.parameters.data.TH[t].tag_group,roomid:a.$state.data.parameters.data.TH[t].roomid,DP_SCL_H:a.$state.data.parameters.data.TH[t].DP_SCL_H,DP_SCL_L:a.$state.data.parameters.data.TH[t].DP_SCL_L,DP_OFFSET:a.$state.data.parameters.data.TH[t].DP_OFFSET,TEMP_SCL_L:a.$state.data.parameters.data.TH[t].TEMP_SCL_L,TEMP_SCL_H:a.$state.data.parameters.data.TH[t].TEMP_SCL_H,TEMP_OFFSET:a.$state.data.parameters.data.TH[t].TEMP_OFFSET,HUM_SCL_L:a.$state.data.parameters.data.TH[t].HUM_SCL_L,HUM_SCL_H:a.$state.data.parameters.data.TH[t].HUM_SCL_H,HUM_OFFSET:a.$state.data.parameters.data.TH[t].HUM_OFFSET});function x(){O.push({path:"/Calibrations"})}async function A(){const E=b.value.split(","),o=[];let s=[];l=="DP"?s=[H.value,S.value,T.value]:l=="TH"&&(s=[v.value,D.value,P.value,L.value,f.value,C.value]),E.forEach(($,N,ya)=>{var R={id:$,data:s[N]};o.push(R)});const M={deviceid:g.value,data:o};console.log(M),await a.updateParameter(M).then($=>{B(F,M),V.fire({title:"Success",text:"Calibration updated successfully",icon:"success",timer:1500}),O.push({path:"/Calibrations"})}).catch($=>{V.fire({title:"Error!",text:"Error update data calibration",icon:"error"})})}function B(E,o){const s={access:"Calibration",action:"Edit",description:"Post Edit Data, Old Data :"+JSON.stringify(E).replaceAll('"',"").replaceAll("{","").replaceAll("}","")+" New Data : "+JSON.stringify(o).replaceAll('"',"").replaceAll("{","").replaceAll("}","")};a.postAuditTrail(s)}return(E,o)=>(u(),_("div",q,[e("div",G,[e("div",K,[e("div",Q,k(r(p))+" "+k(r(l)),1),e("form",{class:"form-horizontal",onSubmit:o[11]||(o[11]=z(s=>A(),["prevent"]))},[e("div",W,[e("div",X,[Y,e("div",Z,[i(e("input",{type:"text",disabled:"",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>c(p)?p.value=s:p=s)},null,512),[[m,r(p)]])])]),r(l)=="DP"?(u(),_("div",aa,[ta,e("div",ea,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>c(S)?S.value=s:S=s)},null,512),[[m,r(S)]])])])):n("",!0),r(l)=="DP"?(u(),_("div",sa,[oa,e("div",ra,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>c(H)?H.value=s:H=s)},null,512),[[m,r(H)]])])])):n("",!0),r(l)=="DP"?(u(),_("div",la,[da,e("div",_a,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>c(T)?T.value=s:T=s)},null,512),[[m,r(T)]])])])):n("",!0),r(l)=="TH"?(u(),_("div",ia,[ma,e("div",ca,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=s=>c(P)?P.value=s:P=s)},null,512),[[m,r(P)]])])])):n("",!0),r(l)=="TH"?(u(),_("div",ua,[na,e("div",pa,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>c(v)?v.value=s:v=s)},null,512),[[m,r(v)]])])])):n("",!0),r(l)=="TH"?(u(),_("div",Ha,[Sa,e("div",Ta,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>c(f)?f.value=s:f=s)},null,512),[[m,r(f)]])])])):n("",!0),r(l)=="TH"?(u(),_("div",Pa,[va,e("div",fa,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=s=>c(L)?L.value=s:L=s)},null,512),[[m,r(L)]])])])):n("",!0),r(l)=="TH"?(u(),_("div",La,[Da,e("div",Ca,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=s=>c(D)?D.value=s:D=s)},null,512),[[m,r(D)]])])])):n("",!0),r(l)=="TH"?(u(),_("div",Ea,[ba,e("div",ga,[i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[9]||(o[9]=s=>c(C)?C.value=s:C=s)},null,512),[[m,r(C)]])])])):n("",!0)]),e("div",Fa,[Ma,e("button",{type:"button",class:"btn btn-default float-right",onClick:o[10]||(o[10]=s=>x())},"Cancel")])],32)])])]))}};export{wa as default};
