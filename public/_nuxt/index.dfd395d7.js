import{_ as V}from"./nuxt-link.0330aa19.js";import{s as j,r as g,g as M,h as F,c as r,a as t,i as N,v as H,j as p,k as x,F as w,m as D,d as v,n as L,t as f,o as d,b as Y,w as G,l as A}from"./entry.69edd33e.js";import{u as I}from"./data.8bfc3874.js";import{S as h}from"./sweetalert2.all.7ef268f0.js";const J={class:"content"},O={class:"container-fluid",style:{"padding-bottom":"10px"}},X={class:"card card-primary"},q=t("div",{class:"card-header"}," Notification ",-1),z={class:"card-body"},K={class:"row"},Q={class:"col-md-12"},W={role:"group",class:"input-group mb-3 input-group-md"},Z=t("div",{class:"input-group-prepend"},[t("div",{class:"input-group-text"},"Search...")],-1),tt={class:"input-group-append"},et=["disabled"],ot={class:"card-body bg-dark",id:"theContainer"},it={class:"table table-bordered"},at=t("thead",null,[t("tr",null,[t("td",null,"Action"),t("th",null,"Notification Type"),t("th",null,"Receiver Number"),t("th",null,"Receiver Name"),t("th",null,"Active")])],-1),st=["onClick"],nt={key:0,class:"right badge badge-success"},lt={key:1,class:"right badge badge-danger"},ct={class:"card-footer"},rt=["value"],dt={class:"pagination pagination-sm m-0 float-right"},ut={class:"page-item"},pt={class:"page-item"},T=10,ht={__name:"index",async setup(vt){let b,y;j();const l=I(),n=g("");let i=g(1),_=g(0),c=g(0);[b,y]=M(()=>l.getReceipt()),await b,y(),_=l.$state.data.receipt.data.length;function S(s,e,a){return s.slice((a-1)*e,a*e)}const u=F(()=>{let s=l.$state.data.receipt.data,e=l.$state.data.receipt.data;return n.value!=""?(e=s.filter(a=>a.notification_type.toUpperCase().includes(n.value.toUpperCase())||a.receipt.toUpperCase().includes(n.value.toUpperCase())||a.receiptname.toUpperCase().includes(n.value.toUpperCase())),_=e.length,c=m(),i.value>c&&(i.value=1,C())):(e=s,_=e.length,c=m()),S(e,T,i.value)});c=m();function m(){return Math.ceil(_/T)}function $(){i.value<c&&i.value++}function B(){i.value>1&&i.value--}function C(){console.log("page :"+i.value)}async function P(s,e){h.fire({title:"Delete this data?",text:"Are you sure? You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Yes"}).then(a=>{a.isConfirmed&&l.deleteReceipt(s).then(o=>{U(s,e),h.fire({title:"Success",text:"Notification destination deleted successfully",icon:"success",timer:1500})}).catch(o=>{h.fire({title:"Error!",text:"Error delete data "+o,icon:"error"})}).finally(o=>{l.getReceipt()})})}function R(s){const e={access:"Notification Destination",action:"Click Edit",description:"Edit Notification History ID : "+s};l.postAuditTrail(e)}function U(s,e){const a={notification_type:u.value[e].notification_type,receipt:u.value[e].receipt,receiptname:u.value[e].receiptname,active:u.value[e].active,idreceipt:u.value[e].id},o={access:"Notification Destination",action:"Click Delete",description:"Delete Notification History, Data : "+JSON.stringify(a).replaceAll('"',"").replaceAll("{","").replaceAll("}","")};l.postAuditTrail(o)}return(s,e)=>{const a=V;return d(),r("div",J,[t("div",O,[t("div",X,[q,t("div",z,[t("div",K,[t("div",Q,[t("div",W,[Z,N(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>x(n)?n.value=o:null)},null,512),[[H,p(n)]]),t("div",tt,[t("button",{text:"Button",type:"button",class:"btn btn-secondary btn-md",disabled:!p(n),onClick:e[1]||(e[1]=o=>n.value="")},"X",8,et)])])])])]),t("div",ot,[t("table",it,[at,t("tbody",null,[(d(!0),r(w,null,D(p(u),(o,k)=>(d(),r("tr",{key:o.id},[t("td",null,[Y(a,{to:`/NotifDestination/${k}`,class:"btn btn-success btn-sm",onClick:E=>R(o.id)},{default:G(()=>[v("Edit ")]),_:2},1032,["to","onClick"]),v(" | "),t("button",{class:"btn btn-danger btn-sm",onClick:E=>P(o.id,k)},"Delete",8,st)]),t("td",null,f(o.notification_type),1),t("td",null,f(o.receipt),1),t("td",null,f(o.receiptname),1),t("td",null,[o.active==1?(d(),r("span",nt,"Active")):A("",!0),v(),o.active==0?(d(),r("span",lt,"Not Active")):A("",!0)])]))),128))])])]),t("div",ct,[v(" Go To "),N(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>x(i)?i.value=o:i=o),onChange:e[3]||(e[3]=o=>C())},[(d(!0),r(w,null,D(p(c),o=>(d(),r("option",{value:o},f(o),9,rt))),256))],544),[[L,p(i)]]),v(" of "+f(p(c))+" ",1),t("ul",dt,[t("li",ut,[t("a",{class:"page-link text-white",href:"javascript:void(0);",onClick:e[4]||(e[4]=o=>B())},"Previous Page")]),t("li",pt,[t("a",{class:"page-link text-white",href:"javascript:void(0);",onClick:e[5]||(e[5]=o=>$())},"Next Page")])])])])])])}}};export{ht as default};
