import{y as C,s as L,r as p,g as w,c as E,a as t,t as F,j as l,x,i as u,v as m,k as _,o as A}from"./entry.69edd33e.js";import{u as O}from"./data.8bfc3874.js";import{S as g}from"./sweetalert2.all.7ef268f0.js";const $={class:"content"},T={class:"container-fluid",style:{"padding-bottom":"10px"}},k={class:"card card-primary"},H={class:"card-header"},B={class:"card-body bg-dark",id:"theContainer"},V={class:"form-group row"},N=t("label",{for:"roomid",class:"col-sm-2 col-form-label"},"Room ID",-1),R={class:"col-sm-10"},U={class:"form-group row"},J=t("label",{for:"DP_SCL_L",class:"col-sm-2 col-form-label"},"DP Scaling L",-1),M={class:"col-sm-10"},j={class:"form-group row"},z=t("label",{for:"DP_SCL_H",class:"col-sm-2 col-form-label"},"DP Scaling H",-1),I={class:"col-sm-10"},q={class:"form-group row"},G=t("label",{for:"DP_OFFSET",class:"col-sm-2 col-form-label"},"DP Offset",-1),K={class:"col-sm-10"},Q={class:"card-footer"},W=t("button",{type:"submit",class:"btn btn-info"},"Submit",-1),at={__name:"[id]",async setup(X){let v,f;const{id:o}=C().params,s=O(),b=L();let D=p(""),r=p(""),i=p(""),d=p(""),n=p("");[v,f]=w(()=>s.getDeviceList()),await v,f(),D.value=s.$state.data.parameters.data[o].tag_group,r.value=s.$state.data.parameters.data[o].roomid,i.value=s.$state.data.parameters.data[o].DP_SCL_H,d.value=s.$state.data.parameters.data[o].DP_SCL_L,n.value=s.$state.data.parameters.data[o].DP_OFFSET;const S={tag_group:s.$state.data.parameters.data[o].tag_group,roomid:s.$state.data.parameters.data[o].roomid,DP_SCL_H:s.$state.data.parameters.data[o].DP_SCL_H,DP_SCL_L:s.$state.data.parameters.data[o].DP_SCL_L,DP_OFFSET:s.$state.data.parameters.data[o].DP_OFFSET};function h(){b.push({path:"/Calibrations"})}async function y(){const c={tagname:tagname.value,commtype:commtype.value,ipaddr:ipaddr.value,ipport:ipport.value,deviceid:deviceid.value,pv_low:pv_low.value,pv_high:pv_high.value,dps:decimalplaces.value,unit:unit.value,inbias:inbias.value,tagid:tagid.value};await s.updateDevice(c).then(a=>{P(S,c),g.fire({title:"Success",text:"Calibration updated successfully",icon:"success",timer:1500}),b.push({path:"/Calibrations"})}).catch(a=>{g.fire({title:"Error!",text:"Error update data calibration",icon:"error"})})}function P(c,a){const e={access:"Calibration",action:"Edit",description:"Post Edit Data, Old Data :"+JSON.stringify(c).replaceAll('"',"").replaceAll("{","").replaceAll("}","")+" New Data : "+JSON.stringify(a).replaceAll('"',"").replaceAll("{","").replaceAll("}","")};s.postAuditTrail(e)}return(c,a)=>(A(),E("div",$,[t("div",T,[t("div",k,[t("div",H,F(l(s).$state.data.parameters.data[l(o)].roomid),1),t("form",{class:"form-horizontal",onSubmit:a[5]||(a[5]=x(e=>y(),["prevent"]))},[t("div",B,[t("div",V,[N,t("div",R,[u(t("input",{type:"text",disabled:"",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>_(r)?r.value=e:r=e)},null,512),[[m,l(r)]])])]),t("div",U,[J,t("div",M,[u(t("input",{type:"number",disabled:"",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>_(d)?d.value=e:d=e)},null,512),[[m,l(d)]])])]),t("div",j,[z,t("div",I,[u(t("input",{type:"number",disabled:"",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>_(i)?i.value=e:i=e)},null,512),[[m,l(i)]])])]),t("div",q,[G,t("div",K,[u(t("input",{type:"number",disabled:"",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>_(n)?n.value=e:n=e)},null,512),[[m,l(n)]])])])]),t("div",Q,[W,t("button",{type:"button",class:"btn btn-default float-right",onClick:a[4]||(a[4]=e=>h())},"Cancel")])],32)])])]))}};export{at as default};
